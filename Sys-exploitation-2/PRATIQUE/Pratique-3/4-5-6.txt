#!/bin/bash

echo "Création des 10 utilisateurs"

for i in {101..110}; do
    username="prog$i"
    password="PPPppp111"
    user_home="/perso_prog/$username"

    # Créer l'utilisateur avec le groupe gprog2, le shell /bin/bash, et le dossier personnel sous /perso_prog/
    sudo useradd -g gprog2 -m -s /bin/bash -d $user_home $username

    # Définir le mot de passe pour l'utilisateur
    echo "$username:$password" | sudo chpasswd

    # Définir le mot de passe SAMBA pour l'utilisateur
    echo -e "$password\n$password" | sudo smbpasswd -s -a $username
done

# Créer le dossier /info_prog/ avec les permissions appropriées
sudo mkdir /info_prog/ -m 775
sudo chown php /info_prog/
sudo chgrp gprog1 /info_prog/





#!/bin/bash
for ((i=101;i<=200;i++))
do
        username="etu$i"
        echo "$username:qwerty" | sudo chpasswd
done









-g: Spécifie le groupe principal de l'utilisateur. Dans votre script, -g gprog2 indique que le groupe principal de l'utilisateur sera gprog2.

-m: Crée le dossier personnel de l'utilisateur. Si le dossier personnel spécifié avec l'option -d n'existe pas, cette option assure qu'il est créé.

-s: Spécifie le shell par défaut pour l'utilisateur. Dans votre script, -s /bin/bash indique que le shell par défaut sera Bash.

-d: Spécifie le répertoire du dossier personnel de l'utilisateur. 
Dans votre script, -d /perso_prog/$username définit le dossier personnel à /perso_prog/progX où X est le numéro spécifique de l'utilisateur.