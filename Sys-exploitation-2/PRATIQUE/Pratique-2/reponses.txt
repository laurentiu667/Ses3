#!/bin/bash
#-----------------------------------------------------------
# Fait par Richard Jean
# 27 novembre 2023
#-----------------------------------------------------------

mkdir /perso -m 755

# creation des groupes
groupadd gprog
groupadd getu

# creation des utilisateurs avec mot de passe
#===========================================================
noms='ada pascal'

for nom in $noms
do
  echo $nom
  
  # crÃ©ation des utilisateurs
  useradd -g gprog -m -b /perso -s /bin/bash $nom

  # configuration du mot de passe pour les utilisateurs
  echo $nom:Secret1 | chpasswd
done
#===========================================================
-g gprog : Cette option spécifie le groupe primaire de l'utilisateur nouvellement créé. Dans cet exemple, le groupe primaire est défini sur gprog.

-m : Cette option crée le répertoire personnel de l'utilisateur s'il n'existe pas déjà. Cela est généralement utilisé pour s'assurer qu'un répertoire personnel est créé pour l'utilisateur.

-b /perso : Cette option spécifie le répertoire de base pour le répertoire personnel de l'utilisateur. Dans cet exemple, le répertoire de base est défini sur /perso.

-s /bin/bash : Cette option spécifie le shell par défaut de l'utilisateur. Ici, le shell est défini sur /bin/bash.

$nom : Il semble que $nom soit une variable qui doit être remplacée par le nom réel de l'utilisateur que vous souhaitez créer.
#===========================================================
for VAR in $(seq -w 1 1 10)
do
  # crÃ©ation des utilisateurs
  useradd -g getu -m -s /bin/bash etu$VAR
  
  # configuration du mot de passe pour les utilisateurs
  echo etu$VAR:Secret1 | chpasswd
done
#===========================================================
cat /etc/passwd pour les voirs
-g getu : Spécifie le groupe principal de l'utilisateur. Ici, le groupe principal est défini sur getu.

-m : Crée le répertoire personnel de l'utilisateur s'il n'existe pas déjà. Cela permet de s'assurer qu'un répertoire personnel est créé pour l'utilisateur.

-s /bin/bash : Spécifie le shell par défaut de l'utilisateur. Dans cet exemple, le shell est défini sur /bin/bash.

etu$VAR : Le nom d'utilisateur qui est créé. Il semble être formé en concaténant la chaîne "etu" avec la valeur de la variable $VAR, où $VAR est une variable utilisée dans une boucle.
#===========================================================
# creation du dossier /info
mkdir /info -m 1755
chown ada    /info
chgrp gprog  /info